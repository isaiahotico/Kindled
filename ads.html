<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ADS Corner</title>
<link rel="stylesheet" href="style.css">
<script src="https://libtl.com/sdk.js" data-zone="10276123" data-sdk="show_10276123"></script>
<script src="guardians.js"></script>
<script src="app.js"></script>
</head>
<body class="charcoal">

<a class="home" href="index.html">ğŸ  Home</a>
<h2 class="rainbow">Guardian Event</h2>

<div class="profile-card">
  <p id="gname"></p>
  <p id="glore"></p>
  <progress id="hp" max="50000"></progress>

  <button class="magic-btn blue" id="healBtn">ğŸ’– Heal your Lords!</button>
</div>

<h3>Top Contributors</h3>
<ol id="board"></ol>

<script>
update(); // update guardian and leaderboard

// Heal button logic
document.getElementById("healBtn").onclick = function(){
  if(Date.now() - (window.lastAd || 0) < 3000){
    alert("â³ Wait 3 seconds before next ad.");
    return;
  }
  window.lastAd = Date.now();

  // Rewarded interstitial ad
  show_10276123().then(() => {
    coins++; localStorage.setItem("coins", coins);
    heal(uid); // add HP to guardian
    update();
    alert("âœ¨ You are healed and received 1 coin!");

    // Popup ad after interstitial
    show_10276123('pop').catch(()=>{});
  });

  // Background ad (inApp)
  show_10276123({
    type: 'inApp',
    inAppSettings:{frequency:2,capping:0.1,interval:30,timeout:5,everyPage:false}
  });
}
</script>

</body>
</html>
