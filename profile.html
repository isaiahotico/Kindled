<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>User Profile</title>
<link rel="stylesheet" href="style.css">
<script src="app.js"></script>
</head>
<body class="charcoal">

<a class="home" href="index.html">üè† Home</a>
<h2 class="rainbow">User Profile</h2>

<div class="profile-card">
  <label for="username">Name:</label>
  <input type="text" id="username" placeholder="Enter your name">

  <label for="userbio">Bio:</label>
  <textarea id="userbio" placeholder="Enter your bio"></textarea>

  <label for="usersex">Sex:</label>
  <select id="usersex">
    <option value="Unknown">Unknown</option>
    <option value="Male">Male</option>
    <option value="Female">Female</option>
    <option value="Other">Other</option>
  </select>

  <label for="userrel">Relationship Status:</label>
  <select id="userrel">
    <option value="Single">Single</option>
    <option value="In a Relationship">In a Relationship</option>
    <option value="Married">Married</option>
    <option value="Complicated">Complicated</option>
  </select>

  <p>Unique ID / Affiliate Code: <span id="userid"></span></p>
  <p>Coins: <span id="usercoins">0</span></p>

  <button class="magic-btn blue" id="saveProfile">üíæ Save Profile</button>
  <button class="magic-btn blue" id="claimReward">üéÅ Claim Reward</button>
</div>

<script>
  // Load or initialize user data
  let uid = localStorage.getItem("uid") || Math.floor(100000 + Math.random() * 900000);
  localStorage.setItem("uid", uid);
  document.getElementById("userid").innerText = uid;

  let coins = Number(localStorage.getItem("coins") || 0);
  document.getElementById("usercoins").innerText = coins;

  let profile = JSON.parse(localStorage.getItem("profile") || "{}");

  // Load saved profile values
  document.getElementById("username").value = profile.name || "";
  document.getElementById("userbio").value = profile.bio || "";
  document.getElementById("usersex").value = profile.sex || "Unknown";
  document.getElementById("userrel").value = profile.rel || "Single";

  // Save profile button
  document.getElementById("saveProfile").onclick = function(){
    profile.name = document.getElementById("username").value;
    profile.bio = document.getElementById("userbio").value;
    profile.sex = document.getElementById("usersex").value;
    profile.rel = document.getElementById("userrel").value;
    localStorage.setItem("profile", JSON.stringify(profile));
    alert("‚úÖ Profile saved successfully!");
  }

  // Claim rewards
  document.getElementById("claimReward").onclick = function(){
    let reward = Math.floor(Math.random() * 500) + 500; // 500‚Äì1000 coins
    coins += reward;
    localStorage.setItem("coins", coins);
    document.getElementById("usercoins").innerText = coins;
    alert(`üéâ You claimed ${reward} coins!`);
  }

  // Auto open YouTube channel once per session
  if(!sessionStorage.getItem("youtubeOpened")){
    window.open("https://www.youtube.com/@TKGAHLOVERS","_blank");
    sessionStorage.setItem("youtubeOpened","true");
  }
</script>

</body>
</html>
