<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Reward Clicker Ads ‚Äî Rainbow</title>

  <!-- Critical CSS (external file) -->
  <link rel="stylesheet" href="style.css">

  <!-- Manifest -->
  <link rel="manifest" href="manifest.json">

  <!-- Monetag SDK (primary) - async -->
  <script async src="//libtl.com/sdk.js" data-zone="10276123" data-sdk="show_10276123"></script>

  <!-- Note: Adsterra smartlinks used as simple redirects for fallback -->
  <!-- YouTube IFrame API (for withdrawal verification) -->
  <script async src="https://www.youtube.com/iframe_api"></script>

  <!-- Small inline script to avoid render blocking -->
  <script>
    // Tiny performance flags
    window.__APP_START = Date.now();
    // prevent unnecessary tap highlight
    document.addEventListener('touchstart', function(){}, {passive: true});
  </script>
</head>
<body>
  <canvas id="starsCanvas" aria-hidden="true"></canvas>

  <div id="app" role="application" aria-label="Reward Clicker Ads">
    <h1 id="appTitle" class="title">Reward Clicker Ads</h1>

    <div class="stats-box" role="status" aria-live="polite">
      <p class="label"><span class="key">Points</span>: <span id="points">0</span></p>
      <p class="label"><span class="key">PHP Value</span>: ‚Ç±<span id="phpValue">0.0000</span></p>
      <p class="label"><span class="key">Referral</span>: <span id="myReferral"></span></p>
      <button id="claimAffiliateBtn" class="btn btn-main" aria-label="Claim affiliate rewards">Claim Affiliate Rewards</button>
    </div>

    <!-- AD BUTTONS (3) -->
    <div class="buttons-row">
      <button id="adBtn1" class="btn btn-main" aria-label="Watch Ad 1">Watch Ad 1 (Auto-Play)</button>
      <button id="adBtn2" class="btn btn-main" aria-label="Watch Ad 2">Watch Ad 2</button>
      <button id="adBtn3" class="btn btn-main" aria-label="Watch Ad 3">Watch Ad 3 (Popup)</button>
    </div>

    <div class="buttons-row">
      <button id="specialEventBtn" class="btn btn-main" aria-label="Special Event">Special Event</button>
      <button id="globalChatBtn" class="btn btn-main" aria-label="Global Chat">Global Chat</button>
    </div>

    <div class="buttons-row">
      <button id="withdrawBtn" class="btn btn-secondary" aria-label="Withdraw">Withdraw GCash</button>
      <button id="historyBtn" class="btn btn-secondary" aria-label="History">User History</button>
      <button id="ownerControlBtn" class="btn btn-admin" aria-label="Owner Control">Owner Control</button>
    </div>

    <!-- PANELS -->

    <!-- Withdraw Panel -->
    <div id="withdrawPanel" class="panel hidden" role="dialog" aria-modal="true">
      <h2 class="panel-title">Withdraw GCash</h2>
      <p>1 point = <b>0.0012 PHP</b></p>
      <div id="youtubeContainer">
        <div id="player"></div>
        <p id="youtubeMsg">Watch the full video to unlock withdrawal</p>
      </div>
      <input id="withdrawCode" placeholder="Enter withdrawal code" aria-label="withdraw code"/>
      <input id="gcashNumber" placeholder="Enter GCash number" aria-label="gcash number"/>
      <button id="submitWithdraw" class="btn btn-main" disabled>Submit Withdrawal</button>
      <button class="btn btn-secondary closePanel">Close</button>
    </div>

    <!-- History Panel -->
    <div id="historyPanel" class="panel hidden" role="dialog">
      <h2 class="panel-title">Your History</h2>
      <div id="historyLog" class="scrollable"></div>
      <button class="btn btn-secondary closePanel">Close</button>
    </div>

    <!-- Owner Panel -->
    <div id="ownerPanel" class="panel hidden" role="dialog">
      <h2 class="panel-title">Owner Dashboard</h2>

      <label>Set YouTube Video URL</label>
      <input id="setYTLink" placeholder="Enter YouTube URL" />

      <button id="saveYTLink" class="btn btn-main">Save URL</button>

      <label>Set Withdrawal Code</label>
      <input id="setWithdrawCode" placeholder="Enter code" />
      <button id="saveWithdrawCode" class="btn btn-main">Save Code</button>

      <h3>Pending Withdrawals</h3>
      <div id="pendingList" class="scrollable"></div>

      <h3>Approved Logs</h3>
      <div id="approvedList" class="scrollable"></div>

      <button class="btn btn-secondary closePanel">Close</button>
    </div>

    <!-- Special Event Panel -->
    <div id="specialEventPanel" class="panel hidden" role="dialog">
      <h2 class="panel-title">üåü White Star Guardian</h2>
      <p class="event-desc">
        The White Star Guardian is a celestial sentinel with <b>50,000 HP</b>.
        Every point earned from watching ads deals <b>1 HP</b> damage.
        The last three players who hit the final HP each receive <b>2,500 points</b>.
      </p>
      <div class="guardian-bar-container">
        <div id="guardianBar" class="guardian-bar"></div>
        <span id="guardianHP">50,000 HP</span>
      </div>
      <div id="eventLeaderboard" class="scrollable"></div>
      <p id="nextEventTimer">Next Guardian: 2:00:00</p>
      <button class="btn btn-secondary closePanel">Close</button>
    </div>

    <!-- Global Chat Panel -->
    <div id="globalChatPanel" class="panel hidden" role="dialog">
      <h2 class="panel-title">üåê Global Chat</h2>
      <div id="chatLog" class="scrollable chat-log" aria-live="polite"></div>
      <input id="chatInput" placeholder="Type a message..." aria-label="chat input" />
      <button id="sendChat" class="btn btn-main">Send</button>
      <button class="btn btn-secondary closePanel">Close</button>
    </div>

  </div>

  <!-- Main app logic -->
  <script src="app.js" defer></script>
</body>
</html>
